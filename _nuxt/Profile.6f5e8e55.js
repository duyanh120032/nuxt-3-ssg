import{a as C,l as w,k as S,b as a,e as t,F as k,v as $,o as n,t as o,C as d,h as g,S as V,u as _,B as i,T as L,r as P,O as T,m as q,f,d as B,_ as N}from"./entry.8ffd76b9.js";const E={class:"myaccount-table table-responsive text-center"},F={class:"table table-bordered"},M=t("thead",{class:"thead-light"},[t("tr",null,[t("th",null,"Order"),t("th",null,"Code"),t("th",null,"Date"),t("th",null,"Status"),t("th",null,"Total"),t("th",null,"Action")])],-1),z=["onClick"],I=["onClick"],R=C({__name:"Orders",props:{data:{type:Array,default:()=>({})}},setup(r){const c=w(),l=S(),h=async u=>{const{data:p,error:e}=await c.from("Orders").update({status:"Cancelled"}).eq("id",u.id);if(e){l.error(e.message);return}l.success("Order cancelled")},s=u=>{V(`/trackorder?code=${u}`)};return(u,p)=>(n(),a("div",null,[t("div",E,[t("table",F,[M,t("tbody",null,[(n(!0),a(k,null,$(r.data,(e,b)=>(n(),a("tr",{key:e.id},[t("td",null,o(b+1),1),t("td",null,o(e.id),1),t("td",null,o(new Date(e.created_at).toISOString()),1),t("td",null,[t("p",{class:d(`${e.status==="Pending"?"text-primary":e.status==="Cancelled"?"text-danger":"text-secondary"}`)},o(e.status),3)]),t("td",null,"$"+o(e.total),1),t("td",null,[e.status!=="Cancelled"?(n(),a("button",{key:0,class:"check-btn sqr-btn btn btn-warning mr-3",onClick:m=>h(e)},"Cancel",8,z)):g("",!0),e.status!=="Cancelled"?(n(),a("button",{key:1,class:"check-btn sqr-btn btn btn-success",onClick:m=>s(e.id)},"View",8,I)):g("",!0)])]))),128))])])])]))}}),Y={key:0},j=t("p",null,[i("1355 Market St, Suite 900 "),t("br"),i(" San Francisco, CA 94103")],-1),H=t("p",null,"Mobile: (123) 456-7890",-1),U=t("a",{href:"#",class:"check-btn sqr-btn"},[t("i",{class:"fa fa-edit"}),i(" Edit Address")],-1),G=C({__name:"Address",props:{user:{default:null,type:Object}},setup(r){const{user:c}=r,{user_metadata:l}=c;return(h,s)=>(n(),a("div",null,[_(l)?(n(),a("address",Y,[t("p",null,[t("strong",null,o(_(l).displayname),1)]),j,H])):g("",!0),U]))}}),J=B(()=>N(()=>import("./AccountDetail.0db5fbbb.js"),["./AccountDetail.0db5fbbb.js","./entry.8ffd76b9.js","./entry.94e06bbd.css"],import.meta.url).then(r=>r.default||r)),K={class:"my-account-wrapper pt-120 pb-120"},Q={class:"container"},W={class:"row"},X={class:"col-lg-12"},Z={class:"myaccount-page-wrapper"},tt={class:"row"},et={class:"col-lg-3 col-md-4"},st={class:"myaccount-tab-menu nav",role:"tablist"},at=["onClick"],nt={class:"col-lg-9 col-md-8"},ot={class:"tab-content",id:"myaccountContent"},ct={class:"myaccount-content"},lt=t("h3",null,"Dashboard",-1),dt={class:"welcome"},rt=t("p",{class:"mb-0"},"From your account dashboard. you can easily check & view your recent orders, manage your shipping and billing addresses and edit your password and account details.",-1),it={class:"myaccount-content"},ut=t("h3",null,"Orders",-1),_t=t("div",{class:"myaccount-content"},[t("h3",null,"Payment Method"),t("p",{class:"saved-message"},"You Can't Saved Your Payment Method yet.")],-1),ht=[_t],pt={class:"myaccount-content"},vt=t("h3",null,"Billing Address",-1),bt={class:"myaccount-content"},mt=t("h3",null,"Account Details",-1),Ct=C({__name:"Profile",async setup(r){let c,l;const h=L(),s=P("Dashboard"),u=[{title:"Dashboard",icon:"fa-gauge"},{title:"Orders",icon:"fa-arrow-down-1-9"},{title:"Credit Cards",icon:"fa-credit-card"},{title:"Address",icon:"fa-map"},{title:"Account Details",icon:"fa-user"},{title:"Logout",icon:"fa-arrow-right-from-bracket"}],p=w(),e=T(),b=async y=>{y==="Logout"&&(await p.auth.signOut(),h.push("/")),s.value=y},m=async()=>{await p.auth.signOut(),h.push("/")},{data:A}=([c,l]=q(()=>p.from("Orders").select("*").eq("user_email",e.value.email)),c=await c,l(),c);return(y,yt)=>{const O=R,D=G,x=J;return n(),a("div",null,[t("div",K,[t("div",Q,[t("div",W,[t("div",X,[t("div",Z,[t("div",tt,[t("div",et,[t("div",st,[(n(),a(k,null,$(u,v=>t("a",{href:"#",class:d({active:s.value==v.title}),key:v.title,onClick:ft=>b(v.title)},[t("i",{class:d(["fa-light",v.icon])},null,2),i(" "+o(v.title),1)],10,at)),64))])]),t("div",nt,[t("div",ot,[t("div",{class:d(["tab-pane fade",{"show active":s.value==="Dashboard"}]),id:"dashboad",role:"tabpanel"},[t("div",ct,[lt,t("div",dt,[t("p",null,[i("Hello, "),t("strong",null,o(_(e).email),1),i(" (If Not "),t("strong",null,o(_(e).email),1),t("button",{class:"btn",onClick:m},"Logout"),i(") ")])]),rt])],2),t("div",{class:d(["tab-pane fade",{"active show":s.value==="Orders"}]),id:"orders",role:"tabpanel"},[t("div",it,[ut,f(O,{data:_(A)},null,8,["data"])])],2),t("div",{class:d(["tab-pane fade",{"show active":s.value==="Credit Cards"}]),id:"payment-method",role:"tabpanel"},ht,2),t("div",{class:d(["tab-pane fade",{"show active":s.value==="Address"}]),id:"address-edit",role:"tabpanel"},[t("div",pt,[vt,f(D,{user:_(e)},null,8,["user"])])],2),t("div",{class:d(["tab-pane fade",{"show active":s.value==="Account Details"}]),id:"account-info",role:"tabpanel"},[t("div",bt,[mt,f(x)])],2)])])])])])])])])])}}});export{Ct as default};
