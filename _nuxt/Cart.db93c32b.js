import{_ as Z}from"./Breadcrumb.vue_vue_type_script_setup_true_lang.649fdb55.js";import{a as D,o as a,b as n,e as t,f as x,w as V,t as l,u as i,h as $,i as F,p as H,j as J,k as K,s as W,l as tt,r as d,m as et,q as I,F as f,v as C,x as p,y as P,z,A as st,B as r,C as ot,c as at,D as nt}from"./entry.8ffd76b9.js";import{u as N}from"./cart.c17f3a6a.js";import{_ as lt}from"./_plugin-vue_export-helper.a1a6add7.js";import{u as ct}from"./fetch.198f65c7.js";import"./asyncData.bbff6192.js";const it=s=>(H("data-v-55cd3786"),s=s(),J(),s),dt={key:0},ut={class:"product-thumbnail"},rt=["src"],_t={class:"product-name"},pt={href:"#"},ht={class:"product-price-cart"},mt={class:"amount"},vt={class:"product-quantity pro-details-quality"},gt={class:"cart-plus-minus"},yt=["value"],bt={class:"product-subtotal"},ft={class:"product-remove"},Ct=it(()=>t("i",{class:"fa-light fa-xmark"},null,-1)),xt=[Ct],$t=D({__name:"Item",props:{data:{type:Object,default:()=>({})}},setup(s){const{incQuantity:u,decQuantity:h,removeCartItem:k}=N();return(m,c)=>{const S=F;return s.data?(a(),n("tr",dt,[t("td",ut,[x(S,{to:`/detail?id=${s.data.id}`},{default:V(()=>[t("img",{src:s.data.image,alt:""},null,8,rt)]),_:1},8,["to"])]),t("td",_t,[t("a",pt,l(s.data.title),1)]),t("td",ht,[t("span",mt,"$"+l(s.data.price),1)]),t("td",vt,[t("div",gt,[t("div",{class:"dec qtybutton",onClick:c[0]||(c[0]=v=>i(h)(s.data.id))},"-"),t("input",{class:"cart-plus-minus-box",type:"text",name:"qtybutton",value:s.data.quantity},null,8,yt),t("div",{class:"inc qtybutton",onClick:c[1]||(c[1]=v=>i(u)(s.data.id))},"+")])]),t("td",bt,"$"+l(s.data.price*s.data.quantity),1),t("td",ft,[t("a",{href:"#",onClick:c[2]||(c[2]=v=>i(k)(s.data.id))},xt)])])):$("",!0)}}});const kt=lt($t,[["__scopeId","data-v-55cd3786"]]),St={class:"cart-main-area pt-115 pb-120"},wt={class:"container"},Tt=t("h3",{class:"cart-page-title"},"Your cart items",-1),qt={class:"row"},It={class:"col-lg-12 col-md-12 col-sm-12 col-12"},Vt={action:"#"},Nt={class:"table-content table-responsive cart-table-content"},Ut=t("thead",null,[t("tr",null,[t("th",null,"Image"),t("th",null,"Product Name"),t("th",null,"Until Price"),t("th",null,"Qty"),t("th",null,"Subtotal"),t("th",null,"action")])],-1),At={key:0,class:"text-danger"},Et={class:"row"},Bt={class:"col-lg-12"},Pt={class:"cart-shiping-update-wrapper"},zt={class:"cart-shiping-update"},Dt=t("button",null,"Update Cart",-1),Ft={class:"row"},Mt={class:"col-lg-4 col-md-6"},Qt={class:"cart-tax"},Lt=t("div",{class:"title-wrap"},[t("h4",{class:"cart-bottom-title section-bg-gray"},"Estimate Shipping And Tax")],-1),Rt={class:"tax-wrapper"},jt=t("p",null,"Enter your destination to get a shipping estimate.",-1),Gt={class:"tax-select-wrapper"},Ot={class:"tax-select"},Xt=t("label",null," * Country ",-1),Yt={class:"tax-select"},Zt=t("label",null," * Region / State ",-1),Ht={class:"tax-select"},Jt=t("label",null," * Zip/Postal Code ",-1),Kt=t("button",{class:"cart-btn-2",type:"submit"},"Get A Quote",-1),Wt={class:"col-lg-4 col-md-6"},te={class:"discount-code-wrapper"},ee=t("div",{class:"title-wrap"},[t("h4",{class:"cart-bottom-title section-bg-gray"},"Use Coupon Code")],-1),se={class:"discount-code"},oe=t("p",null,"Enter your coupon code if you have one.",-1),ae=["onSubmit"],ne=t("button",{class:"cart-btn-2",type:"submit"},"Apply Coupon",-1),le={key:0},ce={class:"col-lg-4 col-md-12"},ie={class:"grand-totall"},de=t("div",{class:"title-wrap"},[t("h4",{class:"cart-bottom-title section-bg-gary-cart"},"Cart Total")],-1),ue={key:0},re={class:"total-shipping"},_e=t("h5",null,"Total shipping",-1),pe=["value"],he={class:"grand-totall-title"},Ce=D({__name:"Cart",async setup(s){let u,h;const k=K(),{getItems:m,getTotal:c}=W(N()),S=tt(),v=N(),M=()=>{v.$reset()},_=d(""),g=d(""),w=d(0),{data:Q}=([u,h]=et(()=>ct("/api/province","$dqm7zUXN6h")),u=await u,h(),u),L=async()=>{if(_.value.length>0){const{data:b,error:o}=await S.from("Coupons").select("*").eq("code",_.value).single();o?g.value="Coupon not found":(w.value=b.discount,g.value="",k.success("Coupon applied"))}},U=d([{name:"Free Shipping",price:0},{name:"Standard Shipping",price:10},{name:"Express Shipping",price:20}]),T=d(U.value[0]),R=I(()=>c.value-c.value*w.value/100+T.value.price),y=[...Q.value.data],q=d(y[0]);console.log(y);const j=I(()=>{let b=y.filter(o=>o.code===q.value.code);return console.log(b),[]}),A=d([]),E=d(""),G=I(()=>m.value.length>0);return(b,o)=>{const O=Z,X=kt,B=F;return a(),n("div",null,[x(O),t("div",St,[t("div",wt,[Tt,t("div",qt,[t("div",It,[t("form",Vt,[t("div",Nt,[t("table",null,[Ut,t("tbody",null,[i(m).length===0?(a(),n("th",At,"No item from cart")):$("",!0),(a(!0),n(f,null,C(i(m),e=>(a(),at(X,{key:e.id,data:e},null,8,["data"]))),128))])])]),t("div",Et,[t("div",Bt,[t("div",Pt,[t("div",zt,[x(B,{to:"/Shop"},{default:V(()=>[r("Continue Shopping")]),_:1})]),t("div",{class:"cart-clear"},[Dt,t("a",{href:"#",onClick:M},"Clear Cart")])])])])]),t("div",Ft,[t("div",Mt,[t("div",Qt,[Lt,t("div",Rt,[jt,t("div",Gt,[t("div",Ot,[Xt,p(t("select",{class:"email s-email s-wid","onUpdate:modelValue":o[0]||(o[0]=e=>q.value=e)},[(a(),n(f,null,C(y,e=>t("option",{key:e.code},l(e.name),1)),64))],512),[[P,q.value]])]),t("div",Yt,[Zt,p(t("select",{class:"email s-email s-wid","onUpdate:modelValue":o[1]||(o[1]=e=>A.value=e)},[(a(!0),n(f,null,C(i(j),e=>(a(),n("option",{key:e},l(e),1))),128))],512),[[P,A.value]])]),t("div",Ht,[Jt,p(t("input",{type:"text","onUpdate:modelValue":o[2]||(o[2]=e=>E.value=e)},null,512),[[z,E.value]])]),Kt])])])]),t("div",Wt,[t("div",te,[ee,t("div",se,[oe,t("form",{onSubmit:st(L,["prevent"])},[p(t("input",{type:"text",name:"name","onUpdate:modelValue":o[3]||(o[3]=e=>_.value=e)},null,512),[[z,_.value]]),ne],40,ae),g.value!==""?(a(),n("p",le,l(g.value),1)):$("",!0)])])]),t("div",ce,[t("div",ie,[de,t("h5",null,[r("Total products "),t("span",null,"$"+l(i(c)),1)]),_.value?(a(),n("h5",ue,[r("Discount "),t("span",null,"-"+l(w.value)+"%",1)])):$("",!0),t("div",re,[_e,t("ul",null,[(a(!0),n(f,null,C(U.value,e=>(a(),n("li",{key:e.name},[p(t("input",{type:"radio",name:"shipping",value:e,"onUpdate:modelValue":o[4]||(o[4]=Y=>T.value=Y)},null,8,pe),[[nt,T.value]]),r(" "+l(e.name)+" ",1),t("span",null,"$"+l(e.price),1)]))),128))])]),t("h4",he,[r("Grand Total "),t("span",null,"$"+l(i(R)),1)]),x(B,{to:"/checkout",class:ot(`${i(G)?"":"btn disabled"}`)},{default:V(()=>[r("Proceed to Checkout")]),_:1},8,["class"])])])])])])])])])}}});export{Ce as default};
